# 快速诊断网络问题

### 什么是TCP重传
为主机在发送一个TCP数据包后，如果迟迟没有收到ACK，主机多久后会重传这个数据包。

所以当出现系统调用超时，调用缓慢等情况的时候，想判断是不是由于网络原因导致的，最直接的方式就是看系统监控里面的TCP重传率跟正常状态是不是有明显的波动。

![image](http://blogimages.oss-cn-hangzhou.aliyuncs.com/tcp_retry.png)


### TCP重传率高的可能原因
发生重传说明网络传输有丢包，基本上从3个点去定位：客户端网络情况、服务端网络情况、中间链路网络情况

1. 客户端机器网络异常
2. 服务端网卡流量跑满，网卡有丢包现象，关注ifconfig的error输出
3. 中间网络连路拥塞，比如交换机上联、核心交换机链路等，需要逐个排查链路流量情况